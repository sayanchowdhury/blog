<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Darkserver on Intellectual Web</title>
    <link>http://localhost:1313/tags/darkserver/</link>
    <description>Recent content in Darkserver on Intellectual Web</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>All rights reserved - 2015</copyright>
    <lastBuildDate>Wed, 25 Sep 2013 12:00:00 +0530</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/darkserver/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Darkserver Improvement: Pen Down</title>
      <link>http://localhost:1313/darkserver-improvement-pen-down/</link>
      <pubDate>Wed, 25 Sep 2013 12:00:00 +0530</pubDate>
      
      <guid>http://localhost:1313/darkserver-improvement-pen-down/</guid>
      <description>&lt;p&gt;Lot of things to do!&lt;/p&gt;

&lt;p&gt;Lot of things to do!&lt;/p&gt;

&lt;p&gt;Lot of things to do!&lt;/p&gt;

&lt;p&gt;This was continuously revovlving around my head for last 2 weeks. I had to
deploy the work i had done on staging instance and test it. But wait! I had
never written a setup.py before, never made a RPM package before.&lt;/p&gt;

&lt;p&gt;While in college, I had a fascination toward RPM packaging as most of my
college seniors had created a RPM package sometime or other. During Mukti
2011, I had attended a RPM packaging workshop by Rahul Sundaram(mether), so i had the idea of how to package a RPM.&lt;/p&gt;

&lt;p&gt;But well before that i had to write a setup script for darkserver. Though the basic setup.py did not take much time, but i got stuck when it came to
include staticfiles in setup.py. After a lot of googling and seraching, the
result was null. So i asked in #python IRC channel, when Ned Batchelder
helped me out. Finally, I got a link to package a Django app titled-
Packaging a Django resuable app&lt;/p&gt;

&lt;p&gt;After completing writing setup.py, I started working on building RPM
packaging. Here are some links:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://fedoraproject.org/wiki/Packaging:Guidelines?rd=Packaging/Guidelines&#34;&gt;Packaging:Guidlines&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://fedoraproject.org/wiki/How_to_create_an_RPM_package&#34;&gt;How to create an RPM package&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://fedoraproject.org/wiki/Packaging:Python&#34;&gt;Packaging:Python&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;After completing rpm packaging, it’s time for koji scratch build. And i did it
but while installing it in the staging instance, something happened. I had
used target as rawhide instead of dist-6E-epel while koji scratch build.
Nevermind, I repeated the steps and voilà, i successfully perform a fresh
install of the package and everything was working properly.:)&lt;/p&gt;

&lt;p&gt;And, with that Google Summer of Code came to an End.&lt;/p&gt;

&lt;p&gt;.. image:: ../galleries/the-end.jpg
    :width: 90%
    :align: center&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Darkserver Improvement: Web Dashboard</title>
      <link>http://localhost:1313/darkserver-improvement-web-dashboard/</link>
      <pubDate>Mon, 09 Sep 2013 12:00:00 +0530</pubDate>
      
      <guid>http://localhost:1313/darkserver-improvement-web-dashboard/</guid>
      <description>&lt;p&gt;There has been a lot of changes since I last posted my blog.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Darkserver’s command line dashboard now supports the secondary architecture.
You can easily shutdown the darkproducer of specifying which architecture to
shutdown.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;.. code::&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;dark&amp;gt; shutdown darkproducer arch
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;The support for multiple buildqueues was removed.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;After a rigorous testing on my laptop, i pushed the code to the dev
instance that was assigned to me. But, a mysterious error happened, nor the pid or the daemon of darkproducer was getting created. Due to which the
complete project came to a halt. Later, it was figured out that i was
passing the config(—config) argument as a relative path of the conf file,
rather than the absolute path which created all this trouble. So, the
proper way to start the darkproducer is:&lt;/p&gt;

&lt;p&gt;.. code::&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ python darkproducer —start=157435 --config=/home/sayan/Development/darkserver/configs/darkserverurl-arm.conf
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Darkserver also now has a web dashboard which shows the status of the
darkproducer, darkbuildqueue and the darkjobworkers.&lt;/p&gt;

&lt;p&gt;.. image:: ../galleries/web_dashboard-800x600.png
    :width: 100%
    :align: center&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Darkserver Improvement: Week Two and Week Three</title>
      <link>http://localhost:1313/darkserver-improvement-week-two-and-week-three/</link>
      <pubDate>Wed, 10 Jul 2013 12:00:00 +0530</pubDate>
      
      <guid>http://localhost:1313/darkserver-improvement-week-two-and-week-three/</guid>
      <description>&lt;p&gt;It’s been two weeks since i last posted my report on Darkserver. I could not
post week two update as I had been down with bad health(seasonal changes +
Loo). With the week coming to an end and /me recovering from fever, i badly
hurt my right wrist and that was end of it. I somehow manage to move myself to
a new city, Bengaluru. The week passed as a trauma for me :’(&lt;/p&gt;

&lt;p&gt;After recovering, i was back to coding/resolving issue in darkserver.
Starting from the mid of week three, I started working on implementing the
support for secondary architecture. Darkserver now supports secondary
architecture(arm, ppc).&lt;/p&gt;

&lt;p&gt;| &lt;strong&gt;Defining the current structure of Darkserver:&lt;/strong&gt;
|
| &lt;strong&gt;darkproducer&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;.. code::&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ darkproducer --start=BUILD_ID --config=CONFIG
Options:
-s BUILD_ID, --start=BUILD_ID Specifies the build id
-c CONFIG, --config=CONFIG Specifies the Config file
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The config files points to either of the configuration files for Koji, ARM,
PowerPC. The files being darkserverurl-koji.conf, darkserverurl-arm.conf,
darkserverurl-ppc.conf placed under configs/. The default being for koji.&lt;/p&gt;

&lt;p&gt;A &amp;lsquo;url&amp;rsquo; key was added to retask Queue to maintain the relation between the
build_id and the architecture.&lt;/p&gt;

&lt;p&gt;The command line arguments in Darkserver are currently now parsed by
optparse python module. So, a pid is added to darkbuildqueue and
darkjobworker, so the command line arguments now is:&lt;/p&gt;

&lt;p&gt;| &lt;strong&gt;darkbuildqueue&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;.. code::&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ darkbuildqueue --start --pid=1
Options:
-s, --start start the buildqueue
-p PID, --pid=PID specify the pid for build queue
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;| &lt;strong&gt;darkjobworker&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;.. code::&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ darkjobworkder --start --pid=1 // To start job worker 1
$ darkjobworkder --start --pid=2 // To start job worker 2
$ darkjobworkder --stop --pid=1 // To stop job worker 1
Options:
-s, --start start the buildqueue
-e, --stop stop the buildqueue
-p PID, --pid=PID specify the pid
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Google Summer of Code 2013: Welcome Kit</title>
      <link>http://localhost:1313/google-summer-of-code-2013-welcome-kit/</link>
      <pubDate>Tue, 25 Jun 2013 12:00:00 +0530</pubDate>
      
      <guid>http://localhost:1313/google-summer-of-code-2013-welcome-kit/</guid>
      <description>&lt;p&gt;Today, I got my GSoC welcome Kit. YaY!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Darkserver Improvement: Week One</title>
      <link>http://localhost:1313/darkserver-improvement-week-one/</link>
      <pubDate>Mon, 24 Jun 2013 12:00:00 +0530</pubDate>
      
      <guid>http://localhost:1313/darkserver-improvement-week-one/</guid>
      <description>&lt;p&gt;The ‘Google Summer of Code’ code period began on June 17 and it’s already one
week into it. Prior to the beginning of the coding period, I went into the
depths of the darkserver codebase. In the current version of Darkserver, the
link present in the libimporter are hardlinks and it is pretty well visible
on Github&lt;/p&gt;

&lt;p&gt;So, I removed the urls and the values from the libimporter and made it
configurable via config files. The config files are currently present in the
configs/ directory. This will eventually help to allow us to add different job
queues for different secondary architectures.&lt;/p&gt;

&lt;p&gt;According to the Darkserver wiki, the steps for starting the darkproducer is:&lt;/p&gt;

&lt;p&gt;.. code::&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ darkproducer start KOJI_BUILD_ID
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now, after removing the hardlinks and making it accesible through config
files, the steps to start the darkproducer is:&lt;/p&gt;

&lt;p&gt;.. code::&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ darkproducer start KOJI_BUILD_ID —config=/path/to/config/file
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The configuration file for koji should be in form of:&lt;/p&gt;

&lt;p&gt;.. code::&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;[darkserver]
url = ‘http://koji.fedoraproject.org/kojihub/’
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In case of violation, the config option defaults to
/etc/darkserver/darkserverurl-koji.conf&lt;/p&gt;

&lt;p&gt;Next, I would be aiming for implementing the support for the secondary
architectures, arm, ppc and add support to maintain different job queues for
the different secondary architectures.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Darkserver Improvement: Random Scribblings</title>
      <link>http://localhost:1313/darkserver-improvement-random-scribblings/</link>
      <pubDate>Sun, 23 Jun 2013 12:00:00 +0530</pubDate>
      
      <guid>http://localhost:1313/darkserver-improvement-random-scribblings/</guid>
      <description>&lt;p&gt;It was worth trying to sit down with pen and paper and sketch out the
compete workflow of Darkserver. I got the idea to try out this stuff from
Vivek’s blogpost. Though, I could not get hold of a board but A4 did the job
for me and it is really proving out to be helpful.&lt;/p&gt;

&lt;p&gt;.. slides:
    ../galleries/random_scribblings.JPG
    ../galleries/random_scribblings2.JPG&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>